<% layout('layouts/boilerplate') -%>
<h1 class="text-center">Edit Campground</h1>
<form
    class="needs-validation"
    action="/campgrounds/<%=campground._id%>?_method=PUT"
    method="POST"
    novalidate
    enctype="multipart/form-data"
>
    <div class="container w-50">
        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input
                type="text"
                class="form-control"
                id="title"
                name="campground[title]"
                value="<%=campground.title%>"
                required
            />
            <div class="valid-feedback">Looks good!</div>
        </div>
        <div class="mb-3">
            <label for="location" class="form-label">Location</label>
            <input
                type="text"
                class="form-control"
                id="location"
                name="campground[location]"
                value="<%=campground.location%>"
                required
            />
            <div class="valid-feedback">Looks good!</div>
        </div>
        <label for="price" class="form-label">Price</label>
        <div class="input-group mb-3">
            <span class="input-group-text" id="price">$</span>
            <input
                type="text"
                class="form-control"
                placeholder="0.00"
                aria-label="Username"
                aria-describedby="price"
                id="price"
                name="campground[price]"
                value="<%=campground.price%>"
                required
            />
            <div class="valid-feedback">Looks good!</div>
        </div>
        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea
                type="text"
                class="form-control"
                id="description"
                name="campground[description]"
                rows="3"
                required
            >
<%=campground.description%></textarea
            >
            <div class="valid-feedback">Looks good!</div>
        </div>
        <div class="mb-3">
            <label for="image" class="form-label">Add more images</label>
            <input
                class="form-control"
                type="file"
                name="image"
                id="image"
                multiple
            />
        </div>
        <div class="row">
            <% campground.images.forEach((img, index) => { %>
            <div class="col-6 mb-3">
                <div class="form-check">
                    <input
                        class="form-check-input"
                        type="checkbox"
                        value="<%=img.filename%>"
                        id="image-<%=index%>"
                        name="deleteImages[]"
                    />

                    <label class="form-check-label" for="image-<%=index%>">
                        Delete
                    </label>
                </div>
                <label for="image-<%=index%>">
                    <img
                        class="img-fluid img-thumbnail"
                        src="<%=img.thumbnail%>"
                        alt=""
                    />
                </label>
            </div>
            <% }) %>
        </div>
        <button class="btn btn-info">Update Campground</button>
    </div>
</form>
<div class="d-flex justify-content-center">
    <a href="/campgrounds/<%=campground._id%>">Back to campground</a>
</div>
